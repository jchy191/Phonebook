{"version":3,"sources":["services/contacts.js","Components/PersonForm.js","Components/Filter.js","Components/Contact.js","Components/Contacts.js","Components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","catch","error","newContact","post","id","delete","put","PersonForm","newName","newNumber","handleChange","addPerson","onSubmit","name","value","onChange","type","Filter","searchValue","Contact","number","handleDelete","onClick","Contacts","persons","personsToShow","filter","person","RegExp","test","sort","a","b","nameA","toLowerCase","nameB","map","Notification","message","isError","messageType","className","App","useState","setPersons","setNewName","setNewNumber","setSearchValue","setMessage","setIsError","useEffect","contactServices","event","target","newPerson","concat","setTimeout","errorHandler","updatePerson","changedPerson","returnedPerson","preventDefault","find","window","confirm","uuidv4","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.824cd0e5.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n        .then(response => response.data)\n        .catch(error => {\n            throw error.response.data;\n        })\n}\n\nconst create = (newContact) => {\n    return axios\n        .post(baseUrl, newContact)\n        .then(response => response.data)\n        .catch(error => {\n            throw error.response.data;\n        })\n}\n\nconst remove = (id) => {\n    return axios\n        .delete(`${baseUrl}/${id}`)\n        .catch(error => {\n            throw error.response.data;\n        })\n}\n\nconst update = (id, newContact) => {\n    return axios\n        .put(`${baseUrl}/${id}`, newContact)\n        .then(response => response.data)\n        .catch(error => {\n            throw error.response.data;\n        })\n}\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {getAll, create, remove, update};","import React from 'react';\n\nfunction PersonForm({newName, newNumber, handleChange, addPerson}) {\n    return (\n        <form onSubmit={addPerson}>\n            <div>Name: <input name=\"name\" value={newName} onChange={handleChange}/></div>\n            <div>Number: <input name=\"number\" value={newNumber} onChange={handleChange}/></div>\n            <div><button type=\"submit\">Add</button></div>\n        </form>\n    );\n}\n\nexport default PersonForm;","import React from 'react';\n\n\nfunction Filter({searchValue, handleChange}) {\n    return (\n        <form>\n            <div>Filter contacts: <input name=\"search\" value={searchValue} onChange={handleChange}/></div>\n        </form>\n    );\n}\n\nexport default Filter;","import React from 'react';\n\nfunction Contact({name, id, number, handleDelete}) {\n    return (\n        <li>{name} {number} <button onClick={handleDelete} name={`${name}`} id={`${id}`}>Delete?</button></li>\n    );\n}\n\nexport default Contact;","import React from 'react';\nimport Contact from './Contact';\n\nfunction Contacts({persons, searchValue, handleDelete}) {\n\n  const personsToShow = persons.filter(person => new RegExp(`^${searchValue}`, 'i').test(person.name))\n    .sort((a, b) => {\n      let nameA = a.name.toLowerCase();\n      let nameB = b.name.toLowerCase();\n      if (nameA < nameB) return -1;\n      if (nameA > nameB) return 1;\n      return 0;\n    })\n  \n    return (\n        <ul>{personsToShow.map(person => <Contact key={person.id} id={person.id} name={person.name} number={person.number} handleDelete={handleDelete}/>)}</ul>    \n    );\n}\n\nexport default Contacts;","import React from 'react';\n\nfunction Notification({message, isError}) {\n    if (message === null) {\n        return null\n    }\n\n    let messageType = \"notification\";\n\n    if (isError) {\n        messageType = \"error\";\n    }\n    \n    return (\n    <div className={`${messageType}`}>\n        {message}\n    </div>\n    );\n}\n\nexport default Notification;","import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport {v4 as uuidv4} from 'uuid';\nimport contactServices from './services/contacts';\nimport PersonForm from './Components/PersonForm';\nimport Filter from './Components/Filter';\nimport Contacts from './Components/Contacts';\nimport Notification from './Components/Notification';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ searchValue, setSearchValue ] = useState('');\n  const [ message, setMessage ] = useState(null);\n  const [ isError, setIsError ] = useState(false);\n\n  useEffect(() => {\n    contactServices\n      .getAll()\n      .then(response => {\n        setPersons(response);\n      })\n  },[isError])\n\n  const handleChange = (event) => {\n    switch(event.target.name) {\n      case \"name\" : setNewName(event.target.value); break;\n      case \"number\": setNewNumber(event.target.value); break;\n      case \"search\": setSearchValue(event.target.value); break;\n      default: break;\n    }\n  }\n\n  const handleAddPerson = (event) => {\n    event.preventDefault();\n    const person = persons.find(person => person.name === newName);\n\n    if (person) {\n      window.confirm(`${newName} is already added to the phonebook, replace the old number with the new one?`);\n      const changedPerson = {...person, number: newNumber};\n      \n      updatePerson(person.id, changedPerson)\n      return;\n    }\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n      id: uuidv4(),\n    };\n    addPerson(newPerson)\n\n  }\n\n  const addPerson = (newPerson) => {\n    contactServices.create(newPerson)\n      .then(response => {\n        setPersons(persons.concat(response));\n        setNewName('');\n        setNewNumber('');\n        setMessage(`${newPerson.name} has been added`);\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n      })\n      .catch(errorHandler)\n  }\n\n  const updatePerson = (id, changedPerson) => {\n    contactServices.update(id, changedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.name !== newName ? person : returnedPerson));\n          setNewName('');\n          setNewNumber('');\n          setMessage(`${changedPerson.name} has been updated`);\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(errorHandler)\n  }\n\n  const handleDeletePerson = (event) => {\n    const name = event.target.name;\n    const id = event.target.id;\n    if (window.confirm(`Delete ${name} from phonebook? Note that this action is not reversible.`)) {\n      contactServices.remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id));\n          setMessage(`${name} has been removed`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000)\n        })\n        .catch(errorHandler)\n    } \n  }\n\n  const errorHandler = (error) => {\n    setIsError(true);\n      setMessage(`${error.error}`);\n      setTimeout(() => {\n        setMessage(null);\n        setIsError(false);\n      }, 5000)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} isError={isError} />\n\n      <h2>Add a New Contact:</h2>\n      <PersonForm newName={newName} newNumber={newNumber} handleChange={handleChange} addPerson={handleAddPerson}/>\n      \n      <h2>Numbers</h2>\n      <Filter handleChange={handleChange} searchValue={searchValue}/>\n      <Contacts persons={persons} searchValue={searchValue} handleDelete={handleDeletePerson}/>\n    </div>\n  )\n\n  \n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}